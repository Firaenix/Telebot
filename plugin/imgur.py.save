###########################################################################
# Gets a random image from imgur and returns the link                     #
#                                                                         #
# Author: Firaenix                                                        #
###########################################################################
import random

imgUrl = import json as j,urllib as o,time as t;a=0
while 1:
 q="i.imgur";y,p=('data','children');r="njj";h="erqqvg.pbz/";u="uggc://"+h+"e/"+r;c=j.loads(o.urlopen(u.decode('rot13')+".json?sorted=new&after=%s"%a).read())[y]
 for s in c[p]:
  f=s[y];w=f['url'].strip('?1')
  if w.find(q)!=-1:print w
 a=c['after'];t.sleep(3)


def help():
        return "!imgur : Returns a random imgur link"


def do():
	#query imgur, return link.

        return "This is not a link."

def getCmd():
        return "!imgur"

def getArgs():
        return 0

def hasEncodings(): #Should only be links, no encodings, unless get title
        return False

